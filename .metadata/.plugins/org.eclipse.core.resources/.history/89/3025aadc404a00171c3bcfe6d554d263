package workspace;

import java.io.IOException;

public class SuperTrunfo {

	public static void main(String[] args) throws IOException {
		Baralho baralho = new Baralho();
		Monte monte = new Monte();
		Mao player1, player2;
		String read = new String();
		Carta c1, c2;
		int score1, score2, turn, attribute;
		
		System.out.println("Bem Vindo ao Super Trunfo! Aperte ENTER para começar a jogar");
		read = EntradaTeclado.leString();
		
		
		baralho.shuffle(); // embaralha o baralho, que inicialmente está ordenado
		player1 = new Mao(baralho, 0, 15); // player 1 recebe as 16 primeiras cartas do baralho
		player2 = new Mao(baralho, 16, 31); // player 2 recebe as 16 ultimas cartas do baralho
		
		score1 = 16; 
		score2 = 16; // variaveis pra marcar quantas cartas o jogador tem
		
		turn = 1; // variavel pra saber de quem é o turno; player 1 começa a jogar
		
		while (score1 != 0 && score2 != 0) { // roda o jogo até acabarem as cartas de um dos dois jogadores
			c1 = player1.poll(); 
			c2 = player2.poll(); // cartas no topo da mão do jogador
			
			monte.add(c1, c2); // já coloca as cartas no monte, caso dê empate
			
			if (turn%2 == 1) { // rodada do player 1
				System.out.println("player 1, escolha um atributo:");
				System.out.println("0 - altura " + c1.getAttribute(0) + " m");
				System.out.println("1 - comprimento " + c1.getAttribute(1) + " m");
				System.out.println("2 - peso " + c1.getAttribute(2) + " kg");
				System.out.println("3 - viveu há " + c1.getAttribute(3) + " milhões de anos");
				attribute = EntradaTeclado.leInt();
				
				System.out.println("player 1: " + c1.getAttribute(attribute));
				System.out.println("player 2: " + c2.getAttribute(attribute)); // mostra o atributo escolhido das duas cartas
				
				if (c1.getAttribute(attribute) > c2.getAttribute(attribute)) {
					System.out.println("player 1 venceu a rodada!");
					player1.add(monte.clear()); // player 1 recebe as cartas (que ja estavam no monte)
				} else if (c1.getAttribute(attribute) < c2.getAttribute(attribute)) { 
					System.out.println("player 2 venceu a rodada!");
					player2.add(monte.clear()); // player 2 recebe as cartas (que ja estavam no monte)
				} else {
					System.out.println("empatou! as cartas vão para o monte!");
					// cartas já estão no monte
				}
			}
			
			else if (turn%2 == 0) { // rodada do player 2
				System.out.println("player 2, escolha um atributo:");
				System.out.println("0 - altura " + c2.getAttribute(0) + " m");
				System.out.println("1 - comprimento " + c2.getAttribute(1) + " m");
				System.out.println("2 - peso " + c2.getAttribute(2) + " kg");
				System.out.println("3 - viveu há " + c2.getAttribute(3) + " milhões de anos");
				attribute = EntradaTeclado.leInt();
				
				System.out.println("player 1: " + c1.getAttribute(attribute));
				System.out.println("player 2: " + c2.getAttribute(attribute)); // mostra o atributo escolhido das duas cartas
				
				if (c1.getAttribute(attribute) > c2.getAttribute(attribute)) {
					System.out.println("player 1 venceu a rodada!");
					player1.add(monte.clear()); // player 1 recebe as cartas (que ja estavam no monte)
				} else if (c1.getAttribute(attribute) < c2.getAttribute(attribute)) { 
					System.out.println("player 2 venceu a rodada!");
					player2.add(monte.clear()); // player 2 recebe as cartas (que ja estavam no monte)
				} else {
					System.out.println("empatou! as cartas vão para o monte!");
					// cartas já estão no monte
				}
			}
			
			turn++;
		}
	}
}
